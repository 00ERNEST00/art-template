/*! art-template@4.0.0-beta | https://github.com/aui/art-template */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.template=t():e.template=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(e,t,n){"use strict";var r=n(13),o=n(12),i=n(15),u=n(16),a=n(14),c=n(18),s=n(17),f={source:null,filename:null,syntax:[c,s],escape:i,include:u,cache:o,compress:null,imports:{},debug:r,compileDebug:!1,bail:!1,root:"/",extname:".html",$extend:function(e){var t=Object.create(this);for(var n in e)t[n]=e[n];return this.escape&&(t.imports.$escape=this.escape),this.include&&(t.imports.$include=this.include),t.imports.$each=a,t}};e.exports=f},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(19),i=n(0),u=n(21),a=n(6),c=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"object"===(void 0===t?"undefined":r(t))?n=t:n.source=t,n=i.$extend(n),t=n.source;var c=n.debug,s=n.filename,f=n.cache;if(f&&s){var l=f.get(s);if(l)return l}if(!t)try{var p=a(s,n.root);t=u(p),n.filename=p,n.source=t}catch(e){var m={path:s,name:"CompileError",message:"template not found: "+e.message,stack:e.stack};if(n.bail)throw c(m)(),m;return c(m)}var h=new o(n),y=function t(r){try{return t.source(r)}catch(t){if(!n.compileDebug)return n.cache=null,n.compileDebug=!0,e(n)(r);if(n.bail)throw c(t)(),t;return c(t)()}};try{y.source=h.build(),f&&s&&f.set(s,y)}catch(e){if(n.bail)throw c(e)(),e;return c(e)}return y.toString=function(){return y.source.toString()},y};e.exports=c},function(e,t,n){"use strict";(function(t){e.exports=!1;try{e.exports="[object process]"===Object.prototype.toString.call(t.process)}catch(e){}}).call(t,n(11))},function(e,t,n){"use strict"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=/((['"])(?:(?!\2|\\).|\\(?:\r\n|[\s\S]))*(\2)?|`(?:[^`\\$]|\\[\s\S]|\$(?!\{)|\$\{(?:[^{}]|\{[^}]*\}?)*\}?)*(`)?)|(\/\/.*)|(\/\*(?:[^*]|\*(?!\/))*(\*\/)?)|(\/(?!\*)(?:\[(?:(?![\]\\]).|\\.)*\]|(?![\/\]\\]).|\\.)+\/(?:(?!\s*(?:\b|[\u0080-\uFFFF$\\'"~({]|[+\-!](?!=)|\.?\d))|[gmiyu]{1,5}\b(?![\u0080-\uFFFF$\\]|\s*(?:[+\-*%&|^<>!=?({]|\/(?![\/*])))))|(0[xX][\da-fA-F]+|0[oO][0-7]+|0[bB][01]+|(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?)|((?!\d)(?:(?!\s)[$\w\u0080-\uFFFF]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+)|(--|\+\+|&&|\|\||=>|\.{3}|(?:[+\-\/%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2})=?|[?~.,:;[\](){}])|(\s+)|(^$|[\s\S])/g,t.matchToToken=function(e){var t={type:"invalid",value:e[0]};return e[1]?(t.type="string",t.closed=!(!e[3]&&!e[4])):e[5]?t.type="comment":e[6]?(t.type="comment",t.closed=!!e[7]):e[8]?t.type="regex":e[9]?t.type="number":e[10]?t.type="name":e[11]?t.type="punctuator":e[12]&&(t.type="whitespace"),t}},function(e,t,n){"use strict";var r={abstract:!0,await:!0,boolean:!0,break:!0,byte:!0,case:!0,catch:!0,char:!0,class:!0,const:!0,continue:!0,debugger:!0,default:!0,delete:!0,do:!0,double:!0,else:!0,enum:!0,export:!0,extends:!0,false:!0,final:!0,finally:!0,float:!0,for:!0,function:!0,goto:!0,if:!0,implements:!0,import:!0,in:!0,instanceof:!0,int:!0,interface:!0,let:!0,long:!0,native:!0,new:!0,null:!0,package:!0,private:!0,protected:!0,public:!0,return:!0,short:!0,static:!0,super:!0,switch:!0,synchronized:!0,this:!0,throw:!0,transient:!0,true:!0,try:!0,typeof:!0,var:!0,void:!0,volatile:!0,while:!0,with:!0,yield:!0};e.exports=function(e){return r.hasOwnProperty(e)}},function(e,t,n){"use strict";var r=n(3),o=n(2),i=function(e,t,n){if(o){var i=n?r.dirname(n):"";return r.resolve(t,i,e)}return e};e.exports=i},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(10),i=n(1),u=n(0),a=n(9),c=n(8),s=function(e,t){return"object"===(void 0===t?"undefined":r(t))?o({filename:e},t):i({filename:e,source:t})};s.render=o,s.compile=i,s.defaults=u,s.bindExtname=c,s.bindSyntax=a,s.cache=u.cache,s.imports=u.imports,e.exports=s},function(e,t,n){"use strict";var r=n(0),o=n(2),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.extname;o&&(e.extensions[t]=function(e,t){var n=t||e.filename,r="var template=require("+JSON.stringify(7)+")";e._compile(r+";module.exports = template.compile({filename:"+JSON.stringify(n)+"});",n)})};e.exports=i},function(e,t,n){"use strict";var r=n(0),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return e.openTag="{{",e.closeTag="}}",e.rawSymbol="@",e.imports=e.imports||{},e.imports.$each=function(e,t){if(Array.isArray(e))for(var n=0,r=e.length;n<r;n++)t(e[n],n,e);else for(var o in e)t(e[o],o)},e.parseExpression=function(e){var t=e.tokens,n=e.line,r=e.source,o=e.compiler,i=o.options,u=function(e,t){console.warn("Template upgrade example:","{{"+e+"}}",">>>","{{"+t+"}}","\n",i.filename||"",n+":0-"+r.length)},a=i.escapeSymbol,c=i.rawSymbol,s=t.map(function(e){return e.value}).filter(function(e){return!/^\s+$/.test(e)});"#"===s[0]&&(u("#value","@value"),s[0]=s[0].replace(/^#/,c));var f="",l=s[0]===c?s.shift():a,p="/"===s[0]?s.shift():"",m=p+s.shift();switch(m){case"%":t.shift(),t[t.length-1].value===m&&t.pop(),f=t.map(function(e){return e.value}).join("");break;case"set":f="var "+s.join("")+";";break;case"if":f="if("+s.join("")+"){";break;case"else":"if"===s[0]?(s.shift(),f="}else if("+s.join("")+"){"):f="}else{";break;case"/if":f="}";break;case"each":"as"===s[1]&&(u("each object 'as' value index","each object value index"),s.splice(1,1));var h=s[0]||"$data",y=s[1]||"$value",v=s[2]||"$index";f="$each("+h+",function("+y+","+v+"){",o.importContext("$each");break;case"/each":f="});";break;case"echo":m="print";case"print":case"include":f=m+"("+s.join(",")+");",o.importContext(m);break;default:if(-1!==s.indexOf("|")){for(var d=m,b=[];"|"!==s[0];)d+=s.shift();s.filter(function(e){return":"!==e}).forEach(function(e){"|"===e?b.push([]):b[b.length-1].push(e)}),b.reduce(function(e,t){var n=t.shift();return t.unshift(e),f="$imports."+n+"("+t.join(",")+")"},d)}else i.imports[m]?(u("filterName value","value | filterName"),f=m+"("+s.join(",")+")",l=c):f=""+m+s.join("");l===c?f="$out+="+f:(f="$out+=$escape("+f+")",o.importContext("$escape"))}return f},e};e.exports=o},function(e,t,n){"use strict";var r=n(1),o=function(e,t,n){return r(e,n)(t)};e.exports=o},function(e,t,n){"use strict";var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":o(window))&&(r=window)}e.exports=r},function(e,t,n){"use strict";var r={__data:Object.create(null),set:function(e,t){this.__data[e]=t},get:function(e){return this.__data[e]},reset:function(){this.__data={}}};e.exports=r},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e){return"object"===("undefined"==typeof console?"undefined":r(console))&&console.error("Template Error:",JSON.stringify(e,null,2)),function(){return"{Template Error}"}};e.exports=o},function(e,t,n){"use strict";var r=function(e,t){if(Array.isArray(e))for(var n=0,r=e.length;n<r;n++)t(e[n],n,e);else for(var o in e)t(e[o],o)};e.exports=r},function(e,t,n){"use strict";var r=function(e){var t={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"};return function e(t){return"string"!=typeof t&&(t="function"==typeof t?e(t.call(t)):null===t?"":JSON.stringify(t)||""),t}(e).replace(/&(?![\w#]+;)|[<>"']/g,function(e){return t[e]})};e.exports=r},function(e,t,n){"use strict";var r=function(e,t,r,o){var i=n(1);return e=n(6)(e,o,r),i({filename:e})(t)};e.exports=r},function(e,t,n){"use strict";var r={name:"BASIC",open:"{{",close:"}}",escape:"",raw:"@",parser:function(e){var t=e.tplToken,n=e.jsToken,r=e.compiler,o=t.value,i=r.options,u=t.line,a=function(e,t){console.warn("Template upgrade example:","{{"+e+"}}",">>>","{{"+t+"}}","\n",i.filename||"",u+":0-"+o.length)},c=n.map(function(e){return e.value}).filter(function(e){return!/^\s+$/.test(e)});"#"===c[0]&&(a("#value","@value"),c[0]=c[0].replace(/^#/,""),t.output="RAW");var s="",f="/"===c[0]?c.shift():"",l=f+c.shift();switch(l){case"set":s="var "+c.join("")+";";break;case"if":s="if("+c.join("")+"){";break;case"else":"if"===c[0]?(c.shift(),s="}else if("+c.join("")+"){"):s="}else{";break;case"/if":s="}";break;case"each":"as"===c[1]&&(a("each object 'as' value index","each object value index"),c.splice(1,1));var p=c[0]||"$data",m=c[1]||"$value",h=c[2]||"$index";s="$each("+p+",function("+m+","+h+"){",r.importContext("$each");break;case"/each":s="});";break;case"echo":l="print";case"print":case"include":s=l+"("+c.join(",")+");",r.importContext(l);break;default:if(-1!==c.indexOf("|")){for(var y=l,v=[];"|"!==c[0];)y+=c.shift();c.filter(function(e){return":"!==e}).forEach(function(e){"|"===e?v.push([]):v[v.length-1].push(e)}),v.reduce(function(e,t){var n=t.shift();return t.unshift(e),s="$imports."+n+"("+t.join(",")+")"},y)}else i.imports[l]?(a("filterName value","value | filterName"),s=l+"("+c.join(",")+")",t.output="RAW"):s=""+l+c.join("");"RAW"!==t.output&&(t.output="ESCAPE")}return t.code=s,t}};e.exports=r},function(e,t,n){"use strict";var r={name:"EVAL",open:"<%",close:"%>",escape:"=",raw:"-",parser:function(e){var t=e.tplToken,n=t.code;return/^=[=#]/.test(n)&&(t.output="RAW"),n=t.output?n.replace(/-$/,""):n.replace(/^#/,"//"),t.code=n,t}};e.exports=r},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(20),a=n(22),c=n(5),s="$data",f=function(e,t){return e.hasOwnProperty(t)},l=JSON.stringify,p=function(){function e(t){var n=this;o(this,e);var r=t.filename,i=t.root,u=t.source;this.options=t,this.scripts=[],this.context={},this.internal={$out:'""',$line:'[0,""]',print:"function(){var text=''.concat.apply('',arguments);return $out+=text}",include:"function(src,data){return $out+=$imports.$include(src,data||"+s+","+l(r)+","+l(i)+")}"},this.importContext("$out"),t.compileDebug&&this.importContext("$line"),a.parser(u,t.syntax).forEach(function(e){var t=e.type;"string"===t?n.parseString(e):"expression"===t&&n.parseExpression(e)})}return i(e,[{key:"importContext",value:function(e){var t="",n=this.internal,r=this.context,o=this.options,i=o.imports;f(r,e)||e===s||"$imports"===e||c(e)||(t=f(n,e)?n[e]:f(i,e)?"$imports."+e:s+"."+e,r[e]=t)}},{key:"parseString",value:function(e){var t=e.value,n=e.line,r=this.options,o=r.compress;o&&(t=o({line:n,source:t,compiler:this}));var i="$out+="+l(t);this.scripts.push({source:t,line:n,code:i})}},{key:"parseExpression",value:function(e){var t=this,n=e.value,r=e.line,o=this.options,i=o.compileDebug,a=e.code,c=u.trim(u.parser(a));u.namespaces(c).forEach(function(e){return t.importContext(e)}),e=e.parser({tplToken:e,jsToken:c,compiler:this}),e.output?!1===escape||"RAW"===e.output?a="$out+="+e.code:(a="$out+=$escape("+e.code+")",this.importContext("$escape")):a=e.code,i&&this.scripts.push({source:n,line:r,code:"$line=["+r+","+l(n)+"]"}),this.scripts.push({source:n,line:r,code:a})}},{key:"checkExpression",value:function(e){for(var t=[[/^\s*}.*?{?\s*$/,""],[/(^.*?\(\s*function\s*\(.*?\)\s*{\s*$)/,"$1})"],[/(^.*?\(\s*.*=>\s*{\s*$)/,"$1})"],[/(^.*?\(.*?\)\s*{\s*$)/,"$1}"]],n=0;n<t.length;){if(t[n][0].test(e)){var o;e=(o=e).replace.apply(o,r(t[n]));break}n++}try{return new Function(e),!0}catch(e){return!1}}},{key:"build",value:function(){var e=this.options,t=this.context,n=this.scripts,r=e.source,o=e.filename,i=e.imports,u="var "+Object.keys(t).map(function(e){return e+"="+t[e]}).join(","),a=n.map(function(e){return e.code}).join(";\n"),c=['"use strict"',u,a,"return $out"].join(";\n");if(e.compileDebug){var f="{"+["path:"+l(o),'name:"RuntimeError"',"message:e.message","line:$line[0]","source:$line[1]","stack:e.stack"].join(",")+"}";c="try{"+c+"}catch(e){throw "+f+"}"}c="function ("+s+") {"+c+"}";try{return new Function("$imports","return "+c)(i)}catch(e){for(var p=0,m=0,h=r;p<n.length;){if(!this.checkExpression(n[p].code)){h=n[p].source,m=n[p].line;break}p++}throw{path:o,name:"CompileError",message:e.message,line:m,source:h,script:c,stack:e.stack}}}}]),e}();e.exports=p},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=n(4).default,i=n(4).matchToToken,u=n(5),a=function(e){return e.match(o).map(function(e){return o.lastIndex=0,i(o.exec(e))}).map(function(e){return"name"===e.type&&u(e.value)&&(e.type="keyword"),e})},c=function(e){var t=!1;return e.filter(function(e){return"whitespace"!==e.type&&"comment"!==e.type}).filter(function(e){return"name"===e.type&&!t||(t="punctuator"===e.type&&"."===e.value,!1)}).map(function(e){return e.value})},s=function(e,t){var n=e[t],r=!!n&&("whitespace"===n.type||"comment"===n.type);return r&&e.splice(t,1),r},f=function(e){var t;for(e=(t=[]).concat.apply(t,r(e));s(e,0););return e},l=function(e){var t;for(e=(t=[]).concat.apply(t,r(e));s(e,e.length-1););return e},p=function(e){return e=f(e),l(e)},m=function(e){return e.map(function(e){return e.value}).join("")};e.exports={parser:a,namespaces:c,trimLeft:f,trimRight:l,trim:p,toString:m}},function(e,t,n){"use strict";var r=n(2),o=function(e){if(r){return n(3).readFileSync(e,"utf8")}var t=document.getElementById(e);return t.value||t.innerHTML};e.exports=o},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=function(e,t){var n=1,o=[],i=function(e){return e.replace(/(.)/g,"\\$1")},u=t.map(function(e){return"("+i(e.open)+"[\\w\\W]*?"+i(e.close)+")"}),a=new RegExp(u.join("|")+"|(^$|[\\w\\W])","g");return e.match(a).forEach(function(e){a.lastIndex=0;var i=a.exec(e),u=0,c=o[o.length-1],s=i[0],f={type:"string",value:s,line:n};for(n+=s.split(/\n/).length-1;u<t.length;){if(i[u+1]){var l,p=t[u],m=p.open,h=p.close,y=s.slice(m.length,s.length-h.length),v=(l={},r(l,p.raw,"RAW"),r(l,p.escape,"ESCAPE"),l);f.type="expression",f.name=p.name,f.output=v[y.slice(0,1)]||!1,f.code=f.output?y.slice(1):y,f.parser=p.parser;break}u++}c&&"string"===c.type&&"string"===f.type?c.value+=f.value:o.push(f)}),o};e.exports={parser:o}}])});